/**
 * sf-tabset is your typical tabbed panel.
 *
 * # Basic usage
 *
 * Must have the following layout:
 *
 *   <sf-tabset>
 *     <sf-tabset-head>
 *       <label class="active">...</label>
 *       <label>...</label>
 *     </sf-tabset-head>
 *
 *     <sf-tabset-body>
 *       <sf-tab class="active">...</sf-tab>
 *       <sf-tab>...</sf-tab>
 *     </sf-tabset-body>
 *   </sf-tabset>
 *
 * To display a tab, apply the `.active` class to a matching label/tab pair.
 * The stylific JS file does this automatically on clicks.
 *
 * # Fixed head
 *
 * To fixate the header, annotate the tabset with `[sf-tabset="fixed"]`, then
 * add a height property to the body:
 *
 *   <sf-tabset sf-tabset="fixed">
 *     <sf-tabset-head>
 *       <label class="active">...</label>
 *       <label>...</label>
 *     </sf-tabset-head>
 *
 *     <sf-tabset-body style="height: 12em">
 *       <sf-tab class="active">...</sf-tab>
 *       <sf-tab>...</sf-tab>
 *     </sf-tabset-body>
 *   </sf-tabset>
 */

sf-tabset,
[sf-tabset] {

  // Layout.
  display: block;

  // Cosmetic.
  @include sf-border-weak;

  /**
   * Header styles.
   */
  > sf-tabset-head {
    // Layout.
    display: flex;
    flex-direction: row;
    height: $sf-tabset-head-height;

    // Cosmetic.
    border-bottom: 1px solid rgba($sf-color-text, 0.2);

    // Header labels.
    > label {
      // Layout.
      flex: 1;

      // Inner layout.
      @include sf-flex-host-center;

      // Cosmetic.
      @include sf-register-interactive-selector;
      @include sf-cursor-interactive;

      // Whitespace.
      padding: $sf-space;
    }

    // Highlight when active.
    &.active {
      @include sf-register-selected-state;
    }
  }

  /**
   * Fixed header version.
   */
  &[sf-tabset~=fixed] {
    // Layout.
    position: relative;

    // Fix header.
    > sf-tabset-head, > [sf-tabset-head] {
      position: absolute;
      top: 0;
      right: 0;
      left: 0;
    }

    // Body styles.
    > sf-tabset-body {
      // Offset header.
      margin-top: $sf-tabset-head-height;

      // Enable scrolling.
      overflow: scroll;

      // Inner shadow to indicate fixedness.
      @include sf-shadow-inset-top-bottom;
    }
  }

  /**
   * Body styles.
   */
  > sf-tabset-body {
    // Layout.
    display: block;
    > * {
      // Layout.
      display: block;
      &:not(.active) {display: none}

      // Whitespace.
      padding: $sf-space;
      @include sf-space-out-vertical;
    }
  }
}
